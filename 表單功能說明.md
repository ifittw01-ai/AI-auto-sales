# 📝 訂單表單功能說明

## ✨ 功能概述

當客戶點擊任何「我要優惠」按鈕時，會彈出一個專業的訂單表單模態框，用於收集客戶基本資料。

## 🎯 主要特點

### 1. 雙欄佈局設計
- **左側**: 訂單摘要（價格、包含內容、保證）
- **右側**: 表單輸入區域

### 2. 收集的資料字段
- ✅ **姓名** - 必填
- ✅ **電子郵件** - 必填，自動驗證格式
- ✅ **電話號碼** - 必填
- ✅ **國家/地區** - 必填，下拉選擇
- ✅ **行業** - 必填，10個行業選項
- ✅ **付款方式** - 單選（信用卡/PayPal/銀行轉帳）
- ✅ **服務條款** - 必須勾選
- ⭕ **訂閱資訊** - 可選

### 3. 互動功能

#### 打開模態框
- 點擊任何「我要優惠」或「立即開始」按鈕
- 背景模糊效果
- 淡入滑上動畫

#### 關閉模態框
- 點擊右上角 ✕ 按鈕
- 點擊模態框外部區域
- 按 ESC 鍵
- 提交表單後自動關閉

#### 表單驗證
- 即時驗證必填字段
- 電子郵件格式驗證
- 勾選服務條款才能提交

### 4. 視覺效果
- 🎨 漸變色標題背景
- ✨ 輸入框聚焦效果
- 💫 按鈕懸停動畫
- 📱 完美響應式設計

## 💻 技術實現

### HTML 結構
```html
<div id="orderModal" class="modal">
    <div class="modal-content">
        <!-- 模態框內容 -->
    </div>
</div>
```

### JavaScript 控制
```javascript
// 打開模態框
openModal();

// 關閉模態框  
closeModal();

// 處理表單提交
initOrderForm();
```

### CSS 樣式
- 模態框全屏遮罩
- 背景模糊效果 (backdrop-filter)
- 滑入動畫
- 響應式雙欄/單欄佈局

## 📱 響應式行為

### 桌面端 (> 768px)
- 雙欄佈局
- 訂單摘要固定在左側
- 表單在右側滾動

### 移動端 (≤ 768px)
- 單欄佈局
- 訂單摘要在上方
- 表單在下方
- 全寬顯示

## 🔌 後端整合

### 表單數據格式
```javascript
{
    fullName: "張三",
    email: "zhang@example.com",
    phone: "+886 912345678",
    country: "TW",
    industry: "education",
    payment: "credit",
    terms: true,
    newsletter: true
}
```

### API 整合示例
```javascript
// 在 script.js 的 initOrderForm() 中
fetch('https://your-api.com/orders', {
    method: 'POST',
    headers: { 
        'Content-Type': 'application/json',
        'Authorization': 'Bearer YOUR_API_KEY'
    },
    body: JSON.stringify(data)
})
.then(response => response.json())
.then(result => {
    // 成功：跳轉到支付頁面或感謝頁面
    window.location.href = '/payment?order=' + result.orderId;
})
.catch(error => {
    // 錯誤處理
    alert('提交失敗，請稍後再試');
});
```

## 🔒 安全建議

1. **HTTPS**: 確保使用 SSL 證書
2. **CSRF 防護**: 添加 CSRF token
3. **輸入清理**: 後端驗證所有輸入
4. **速率限制**: 防止表單濫用
5. **資料加密**: 敏感資料加密存儲

## 📊 追蹤和分析

### Google Analytics 事件
```javascript
// 打開表單
gtag('event', 'form_open', {
    'event_category': 'engagement',
    'event_label': 'order_form'
});

// 提交表單
gtag('event', 'form_submit', {
    'event_category': 'conversion',
    'event_label': 'order_form',
    'value': 1727
});
```

### Facebook Pixel
```javascript
// 打開表單
fbq('track', 'InitiateCheckout');

// 完成表單
fbq('track', 'Purchase', {
    value: 1727,
    currency: 'TWD'
});
```

## 🎨 自定義選項

### 修改顏色
在 `styles.css` 中修改：
```css
.modal-header {
    background: linear-gradient(135deg, #YOUR_COLOR 0%, #YOUR_COLOR_2 100%);
}
```

### 添加字段
在 `index.html` 中添加：
```html
<div class="form-group">
    <label for="newField">新字段 <span class="required">*</span></label>
    <input type="text" id="newField" name="newField" required>
</div>
```

### 修改國家列表
在 `index.html` 中的 `<select id="country">` 添加選項：
```html
<option value="JP">日本 Japan</option>
```

## ✅ 測試清單

- [ ] 所有必填字段驗證正常
- [ ] 電子郵件格式驗證
- [ ] 表單提交成功
- [ ] 關閉按鈕功能正常
- [ ] ESC 鍵關閉功能
- [ ] 點擊外部關閉功能
- [ ] 移動端佈局正常
- [ ] 所有瀏覽器兼容性測試
- [ ] 載入動畫流暢
- [ ] 數據正確發送到後端

## 🆘 常見問題

### Q: 如何連接到支付網關？
A: 在 `initOrderForm()` 函數中，將數據提交到你的支付處理器 API。

### Q: 如何添加更多付款方式？
A: 在 HTML 的 `.payment-methods` 區域添加新的 radio 選項。

### Q: 如何保存數據到數據庫？
A: 在後端 API 接收表單數據後，使用 ORM 或 SQL 保存到數據庫。

### Q: 可以整合 Google Sheets 嗎？
A: 可以！使用 Google Sheets API 或 Zapier/Make.com 等工具。

## 📞 需要幫助？

如果需要進一步定制或有技術問題，請參考：
- 📖 README.md - 完整項目文檔
- 💻 script.js - JavaScript 代碼
- 🎨 styles.css - 樣式定義
- 📄 index.html - HTML 結構

---

**最後更新**: 2025年10月
**版本**: 1.0.0

